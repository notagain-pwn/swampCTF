(function () {
  const FLAG_CODE = "G1v3M3Th3Fl@g!!!!";

  // 1. Modify the flag div
  const flagDiv = document.getElementById("flagstuff");
  if (flagDiv) {
    flagDiv.setAttribute("code", FLAG_CODE);
    console.log("[+] code attribute set");
  } else {
    console.error("[-] flagstuff not found");
    return;
  }

  // 2. Trigger a legitimate React input event
  const textarea = document.querySelector("textarea");
  if (textarea) {
    const nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype, "value").set;
    nativeInputValueSetter.call(textarea, " ");

    const inputEvent = new Event("input", { bubbles: true });
    textarea.dispatchEvent(inputEvent);

    console.log("[+] triggered real input event");
  } else {
    console.error("[-] textarea not found");
  }
})();
